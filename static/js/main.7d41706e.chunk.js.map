{"version":3,"sources":["consts.js","api.js","Avatar/index.js","Avatar/queries.js","Repository/RepositoryItem/index.js","Issue/IssueItem/index.js","FetchMore/index.js","Loading/index.js","Issue/IssueList/index.js","Issue/index.js","Issue/queries.js","Repository/RepositoryList/index.js","Repository/queries.js","Repository/index.js","App/index.js","index.js"],"names":["STATUS","INITIAL","LOADING","AUTHENTICATED","FINISHED_LOADING","LOCAL_STORAGE_KEY","GITHUB_TOKEN","makeAPICall","query","token","axios","post","headers","Authorization","concat","then","response","catch","error","console","Avatar","state","data","storedToken","localStorage","getItem","this","getAvatar","_this2","setState","react_default","a","createElement","className","src","viewer","avatarUrl","width","height","alt","Component","dayjs","extend","relativeTime","RepositoryItem","_ref","name","pushedAt","url","descriptionHTML","Fragment","href","dangerouslySetInnerHTML","__html","title","fromNow","IssueItem","author","createdAt","login","FetchMore","children","loading","hasNextPage","variables","fetchMore","disabled","onClick","Loading","dots","onTick","_this","prevState","interval","setInterval","clearInterval","isCenter","props","classNames","push","join","Array","fill","map","dot","Issues","status","fetchIssues","entity","repositoryOwner","repositoryName","issueState","cursor","_ref$entity","_ref$issueState","_ref$cursor","getRepositoryIssues","repository","Object","objectSpread","defineProperty","edges","toConsumableArray","pageInfo","_this$props","_this$state","_this$props2","src_Loading","issues","length","issue","key","id","Issue_IssueItem","src_FetchMore","endCursor","RepositoryList","fetchData","READY","arguments","undefined","getWatchedRepositories","watching","RepositoryList_RepositoryListPlaceholder","_data$viewer","_data$viewer$watching","repositories","Repository_RepositoryItem","totalCount","Issue","owner","pullRequests","RepositoryListPlaceholder","item","index","App","code","window","location","match","authenticate","_this3","get","process","setItem","src_Avatar","Repository","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7d41706e.chunk.js","sourcesContent":["export const CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\r\nexport const REDIRECT_URI = process.env.REACT_APP_REDIRECT_URI;\r\nexport const AUTH_API_URI = process.env.REACT_APP_AUTH_API_URI;\r\n\r\nexport const GITHUB_OAUTH_URL = \"https://github.com/login/oauth/authorize\";\r\nexport const GITHUB_GRAPHQL_API = \"https://api.github.com/graphql\";\r\n\r\nexport const STATUS = {\r\n  INITIAL: \"initial\",\r\n  LOADING: \"loading\",\r\n  AUTHENTICATED: \"authenticated\",\r\n  FINISHED_LOADING: \"finished_loading\"\r\n};\r\n\r\nexport const LOCAL_STORAGE_KEY = {\r\n  GITHUB_TOKEN: \"github_token\"\r\n};\r\n","import axios from \"axios\";\r\nimport { GITHUB_GRAPHQL_API } from \"./consts\";\r\n\r\nexport const makeAPICall = (query, token) => {\r\n  return axios\r\n    .post(\r\n      GITHUB_GRAPHQL_API,\r\n      { query },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      }\r\n    )\r\n    .then(response => response)\r\n    .catch(error => console.error(`Error while fetching data: ${error}`));\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport { LOCAL_STORAGE_KEY } from \"../consts\";\r\nimport { GET_AVATAR } from \"./queries\";\r\nimport { makeAPICall } from \"../api\";\r\n\r\nimport \"./style.css\";\r\n\r\nclass Avatar extends Component {\r\n  state = {\r\n    data: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const storedToken = localStorage.getItem(LOCAL_STORAGE_KEY.GITHUB_TOKEN);\r\n    if (storedToken) {\r\n      this.getAvatar(storedToken);\r\n    }\r\n  }\r\n\r\n  getAvatar(token) {\r\n    makeAPICall(GET_AVATAR, token).then(response => this.setState({ data: response.data.data }));\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.state;\r\n\r\n    if (!data) {\r\n      return <img className=\"Avatar\" src=\"avatar.png\" width={32} height={32} alt=\"Avatar\" />;\r\n    }\r\n\r\n    return (\r\n      <img className=\"Avatar\" src={data.viewer.avatarUrl} width={32} height={32} alt=\"Avatar\" />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Avatar;\r\n","export const GET_AVATAR = `\r\n  query {\r\n    viewer {\r\n      avatarUrl\r\n    }\r\n  }\r\n`;\r\n","import dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport React from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nconst RepositoryItem = ({ name, pushedAt, url, descriptionHTML }) => (\r\n  <>\r\n    <h3>\r\n      <a href={url}>{name}</a>\r\n    </h3>\r\n    <div dangerouslySetInnerHTML={{ __html: descriptionHTML }} />\r\n    <p>\r\n      {pushedAt && (\r\n        <span>\r\n          Updated <span title={pushedAt}>{dayjs(pushedAt).fromNow()}</span>\r\n        </span>\r\n      )}\r\n    </p>\r\n  </>\r\n);\r\n\r\nexport default RepositoryItem;\r\n","import dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport React from \"react\";\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nconst IssueItem = ({ url, title, author, createdAt }) => (\r\n  <>\r\n    <h5>\r\n      <a href={url}>{title}</a>\r\n    </h5>\r\n    <p>\r\n      {author && (\r\n        <span>\r\n          Opened by <a href={author.url}>{author.login}</a>\r\n        </span>\r\n      )}\r\n      {createdAt && <span title={createdAt}> {dayjs(createdAt).fromNow()}</span>}\r\n    </p>\r\n  </>\r\n);\r\n\r\nexport default IssueItem;\r\n","import React from \"react\";\r\n\r\nconst FetchMore = ({ children, loading, hasNextPage, variables, fetchMore }) => (\r\n  <div className=\"FetchMore\">\r\n    {!loading && (\r\n      <button\r\n        className=\"btn btn-outline btn-block\"\r\n        disabled={!hasNextPage}\r\n        onClick={() => fetchMore(variables)}\r\n      >\r\n        More {children}\r\n      </button>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default FetchMore;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst TICK_RATE = 500;\r\n\r\nclass Loading extends Component {\r\n  state = {\r\n    dots: 0\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.interval = setInterval(this.onTick, TICK_RATE);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  onTick = () => {\r\n    this.setState(prevState => ({ dots: (prevState.dots + 1) % 4 }));\r\n  };\r\n\r\n  render() {\r\n    const { isCenter } = this.props;\r\n    const { dots } = this.state;\r\n\r\n    const classNames = [\"Loading\"];\r\n\r\n    if (isCenter) {\r\n      classNames.push(\"Loading_center\");\r\n    }\r\n\r\n    return (\r\n      <div className={classNames.join(\" \")}>\r\n        <small>Loading {new Array(dots).fill(0).map(dot => \".\")}</small>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import { map } from \"lodash\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport IssueItem from \"../IssueItem\";\r\nimport FetchMore from \"../../FetchMore\";\r\nimport Loading from \"../../Loading\";\r\n\r\nimport { makeAPICall } from \"../../api\";\r\nimport { STATUS, LOCAL_STORAGE_KEY } from \"../../consts\";\r\nimport { getRepositoryIssues } from \"../queries\";\r\n\r\nimport \"./style.css\";\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nclass Issues extends Component {\r\n  state = {\r\n    status: STATUS.INITIAL,\r\n    error: null,\r\n    data: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { entity, repositoryOwner, repositoryName } = this.props;\r\n    this.fetchIssues({ entity, repositoryOwner, repositoryName });\r\n  }\r\n\r\n  fetchIssues = ({ entity, repositoryOwner, repositoryName, issueState, cursor }) => {\r\n    const storedToken = localStorage.getItem(LOCAL_STORAGE_KEY.GITHUB_TOKEN);\r\n\r\n    this.setState({ status: STATUS.LOADING });\r\n\r\n    makeAPICall(\r\n      getRepositoryIssues({ entity, repositoryOwner, repositoryName, issueState, cursor }),\r\n      storedToken\r\n    ).then(response => {\r\n      const { data } = response.data;\r\n\r\n      this.setState(prevState => {\r\n        let newStateData = {};\r\n\r\n        if (!prevState.data) {\r\n          newStateData = data;\r\n        } else {\r\n          newStateData = {\r\n            repository: {\r\n              ...prevState.data.repository,\r\n              [entity]: {\r\n                ...prevState.data.repository[entity],\r\n                edges: [\r\n                  ...prevState.data.repository[entity].edges,\r\n                  ...data.repository[entity].edges\r\n                ],\r\n                pageInfo: {\r\n                  ...prevState.data.repository[entity].pageInfo,\r\n                  ...data.repository[entity].pageInfo\r\n                }\r\n              }\r\n            }\r\n          };\r\n        }\r\n\r\n        return {\r\n          data: newStateData,\r\n          status: STATUS.FINISHED_LOADING\r\n        };\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { status, error, data } = this.state;\r\n    const { entity, repositoryOwner, repositoryName } = this.props;\r\n\r\n    if (!data) {\r\n      return <Loading />;\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"flash flash-error\">\r\n          <button onClick={this.fetchIssues} className=\"btn btn-sm primary flash-action\">\r\n            Retry\r\n          </button>\r\n          {error}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const pageInfo = data.repository[entity].pageInfo;\r\n    const issues = map(data.repository[entity].edges, \"node\");\r\n\r\n    if (!issues.length) {\r\n      return (\r\n        <div className=\"Issues\">\r\n          <p>No content yet.</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"Issues\">\r\n        <ol className=\"IssueList\">\r\n          {issues.map(issue => (\r\n            <li className=\"Issue\" key={issue.id}>\r\n              <IssueItem {...issue} />\r\n            </li>\r\n          ))}\r\n        </ol>\r\n\r\n        {status === STATUS.LOADING && <Loading />}\r\n\r\n        <FetchMore\r\n          loading={status === STATUS.LOADING}\r\n          hasNextPage={pageInfo.hasNextPage}\r\n          variables={{\r\n            entity,\r\n            repositoryOwner,\r\n            repositoryName,\r\n            cursor: pageInfo.endCursor\r\n          }}\r\n          fetchMore={this.fetchIssues}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Issues;\r\n","import Issues from \"./IssueList\";\r\n\r\nexport default Issues;\r\n","export function getRepositoryIssues({\r\n  entity = \"issues\",\r\n  repositoryOwner,\r\n  repositoryName,\r\n  issueState = \"OPEN\",\r\n  cursor = null\r\n}) {\r\n  return `\r\n    query {\r\n      repository(owner: \"${repositoryOwner}\", name: \"${repositoryName}\") {\r\n        ${entity}(\r\n          first: 5\r\n          states: [${issueState}]\r\n          orderBy: { field: CREATED_AT, direction: DESC }\r\n          after: ${cursor}\r\n        ) {\r\n          edges {\r\n            node {\r\n              id\r\n              title\r\n              createdAt\r\n              url\r\n              author {\r\n                login\r\n                url\r\n              }\r\n            }\r\n          }\r\n          pageInfo {\r\n            endCursor\r\n            hasNextPage\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `;\r\n}\r\n","import { map } from \"lodash\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport RepositoryItem from \"../RepositoryItem\";\r\nimport Issues from \"../../Issue\";\r\nimport FetchMore from \"../../FetchMore\";\r\n\r\nimport { makeAPICall } from \"../../api\";\r\nimport { STATUS, LOCAL_STORAGE_KEY } from \"../../consts\";\r\nimport { getWatchedRepositories } from \"../queries\";\r\n\r\nimport \"./style.css\";\r\n\r\nclass RepositoryList extends Component {\r\n  state = {\r\n    status: STATUS.INITIAL,\r\n    error: null,\r\n    data: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData({ cursor: null });\r\n  }\r\n\r\n  fetchData = ({ cursor }) => {\r\n    this.setState({ status: STATUS.LOADING });\r\n\r\n    const storedToken = localStorage.getItem(LOCAL_STORAGE_KEY.GITHUB_TOKEN);\r\n\r\n    if (!storedToken) {\r\n      return this.setState({\r\n        error: \"GitHub token missing.\",\r\n        status: STATUS.READY\r\n      });\r\n    }\r\n\r\n    makeAPICall(getWatchedRepositories(cursor), storedToken).then(response => {\r\n      const { data } = response.data;\r\n\r\n      this.setState(prevState => {\r\n        let newStateData = {};\r\n\r\n        if (!prevState.data) {\r\n          newStateData = data;\r\n        } else {\r\n          newStateData = {\r\n            viewer: {\r\n              ...prevState.data.viewer,\r\n              watching: {\r\n                ...prevState.data.viewer.watching,\r\n                edges: [...prevState.data.viewer.watching.edges, ...data.viewer.watching.edges],\r\n                pageInfo: {\r\n                  ...prevState.data.viewer.watching.pageInfo,\r\n                  ...data.viewer.watching.pageInfo\r\n                }\r\n              }\r\n            }\r\n          };\r\n        }\r\n\r\n        return {\r\n          data: newStateData,\r\n          status: STATUS.READY\r\n        };\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { status, data, error } = this.state;\r\n\r\n    if (status !== STATUS.READY && !data) {\r\n      return <RepositoryListPlaceholder />;\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"flash flash-error\">\r\n          <button onClick={this.fetchData} className=\"btn btn-sm primary flash-action\">\r\n            Retry\r\n          </button>\r\n          {error}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const {\r\n      watching,\r\n      watching: {\r\n        pageInfo: { hasNextPage, endCursor }\r\n      }\r\n    } = data.viewer;\r\n    const repositories = map(watching.edges, \"node\");\r\n\r\n    return (\r\n      <>\r\n        <ol className=\"RepositoryList\">\r\n          {repositories.map(repository => (\r\n            <div key={repository.id} className=\"RepositoryItem\">\r\n              <RepositoryItem {...repository} />\r\n              <details>\r\n                <summary>Issues ({repository.issues.totalCount})</summary>\r\n                <Issues\r\n                  entity={\"issues\"}\r\n                  repositoryOwner={repository.owner.login}\r\n                  repositoryName={repository.name}\r\n                />\r\n              </details>\r\n              <details>\r\n                <summary>Pull requests ({repository.pullRequests.totalCount})</summary>\r\n                <Issues\r\n                  entity={\"pullRequests\"}\r\n                  repositoryOwner={repository.owner.login}\r\n                  repositoryName={repository.name}\r\n                />\r\n              </details>\r\n            </div>\r\n          ))}\r\n        </ol>\r\n\r\n        {status === STATUS.LOADING && <RepositoryListPlaceholder />}\r\n\r\n        <FetchMore\r\n          loading={status === STATUS.LOADING}\r\n          hasNextPage={hasNextPage}\r\n          variables={{\r\n            cursor: endCursor\r\n          }}\r\n          fetchMore={this.fetchData}\r\n        >\r\n          Repositories\r\n        </FetchMore>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst RepositoryListPlaceholder = () => (\r\n  <ol className=\"RepositoryList\">\r\n    {Array(10)\r\n      .fill(\"\")\r\n      .map((item, index) => (\r\n        <li key={index} className=\"RepositoryItem RepositoryItem-placeholder\">\r\n          <div className=\"RepositoryItem-placeholder-name\" />\r\n          <div className=\"RepositoryItem-placeholder-text\" />\r\n          <div className=\"RepositoryItem-placeholder-text\" />\r\n        </li>\r\n      ))}\r\n  </ol>\r\n);\r\n\r\nexport default RepositoryList;\r\n","export function getWatchedRepositories(cursor = null) {\r\n  return `\r\n    query {\r\n      viewer {\r\n        watching(first: 10, after: \"${cursor}\", orderBy: { field: PUSHED_AT, direction: DESC }) {\r\n          edges {\r\n            node {\r\n              id\r\n              name\r\n              owner {\r\n                login\r\n                url\r\n              }\r\n              pushedAt\r\n              url\r\n              descriptionHTML\r\n              issues(states: [OPEN]) {\r\n                totalCount\r\n              }\r\n              pullRequests(states: [OPEN]) {\r\n                totalCount\r\n              }\r\n            }\r\n          }\r\n          pageInfo {\r\n            endCursor\r\n            hasNextPage\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `;\r\n}\r\n","import RepositoryList from \"./RepositoryList\";\r\n\r\nexport default RepositoryList;\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport Avatar from \"../Avatar\";\r\nimport RepositoryList from \"../Repository\";\r\nimport Loading from \"../Loading\";\r\n\r\nimport {\r\n  STATUS,\r\n  LOCAL_STORAGE_KEY,\r\n  AUTH_API_URI,\r\n  GITHUB_OAUTH_URL,\r\n  CLIENT_ID,\r\n  REDIRECT_URI\r\n} from \"../consts\";\r\n\r\nimport \"primer/build/build.css\";\r\nimport \"./style.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    status: STATUS.INITIAL\r\n  };\r\n\r\n  componentDidMount() {\r\n    const storedToken = localStorage.getItem(LOCAL_STORAGE_KEY.GITHUB_TOKEN);\r\n    if (storedToken) {\r\n      this.setState({ status: STATUS.AUTHENTICATED });\r\n      return;\r\n    }\r\n\r\n    const code =\r\n      window.location.href.match(/\\?code=(.*)/) && window.location.href.match(/\\?code=(.*)/)[1];\r\n    if (code) {\r\n      this.setState({ status: STATUS.LOADING }, () => this.authenticate(code));\r\n    }\r\n  }\r\n\r\n  authenticate(code) {\r\n    axios\r\n      .get(`${AUTH_API_URI}/${code}`)\r\n      .then(({ data: { token } }) => {\r\n        if (token) {\r\n          localStorage.setItem(LOCAL_STORAGE_KEY.GITHUB_TOKEN, token);\r\n          this.setState({ token, status: STATUS.AUTHENTICATED });\r\n        }\r\n      })\r\n      .catch(error => console.error(`Error while authenticating: ${error}`));\r\n  }\r\n\r\n  render() {\r\n    const { status } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"Header\">\r\n          <div className=\"Logo\">GitObserve</div>\r\n          <div className=\"User\">\r\n            {status === STATUS.INITIAL && (\r\n              <a\r\n                href={`${GITHUB_OAUTH_URL}?client_id=${CLIENT_ID}&scope=user%20repo%20read%3Aorg&redirect_uri=${REDIRECT_URI}`}\r\n              >\r\n                Login\r\n              </a>\r\n            )}\r\n            {status === STATUS.AUTHENTICATED && <Avatar />}\r\n          </div>\r\n        </header>\r\n        <div className=\"Main\">\r\n          {status === STATUS.LOADING && <Loading isCenter={true} />}\r\n          {status === STATUS.AUTHENTICATED && <RepositoryList />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}